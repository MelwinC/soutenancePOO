<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) -->
<title>Source code</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="source: package: fr.cda.util, class: Terminal">
<meta name="generator" content="javadoc/SourceToHTMLConverter">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body class="source-page">
<main role="main">
<div class="source-container">
<pre><span class="source-line-no">001</span><span id="line-1">package fr.cda.util;</span>
<span class="source-line-no">002</span><span id="line-2"></span>
<span class="source-line-no">003</span><span id="line-3">import java.io.*;</span>
<span class="source-line-no">004</span><span id="line-4">import java.util.*;</span>
<span class="source-line-no">005</span><span id="line-5"></span>
<span class="source-line-no">006</span><span id="line-6">/** La classe Terminal permet de realiser ses premiers programmes Java en permettant d'afficher dans la console d'execution des donnees de type differents, et en permettant de saisir au clavier des donnees de type differents.&lt;BR&gt;</span>
<span class="source-line-no">007</span><span id="line-7">    Elle permet aussi de lire et ecrire un fichier texte</span>
<span class="source-line-no">008</span><span id="line-8">    Cette classe contient que des methodes statiques. */</span>
<span class="source-line-no">009</span><span id="line-9">public class Terminal{    </span>
<span class="source-line-no">010</span><span id="line-10"></span>
<span class="source-line-no">011</span><span id="line-11">    // Le buffer standard  de lecture = le clavier</span>
<span class="source-line-no">012</span><span id="line-12">    private static BufferedReader in =</span>
<span class="source-line-no">013</span><span id="line-13">        new BufferedReader(new InputStreamReader(System.in));</span>
<span class="source-line-no">014</span><span id="line-14"></span>
<span class="source-line-no">015</span><span id="line-15">    /** Cette methode lit un fichier texte et retourne le contenu du fichier sous la forme d'un  tableau de String dont chaque element est une ligne du fichier.</span>
<span class="source-line-no">016</span><span id="line-16">        @param nomFichier le nom du fichier qui doit etre dans le repertoire courant.</span>
<span class="source-line-no">017</span><span id="line-17">        @return String[] le contenu du fichier. </span>
<span class="source-line-no">018</span><span id="line-18">        @exception TerminalException (de type RuntimeException) si erreur d'ecriture&lt;BR&gt;</span>
<span class="source-line-no">019</span><span id="line-19">        Rappel : Une exception de type RuntimeException n'a pas l'obligation d'etre capturee.</span>
<span class="source-line-no">020</span><span id="line-20">*/</span>
<span class="source-line-no">021</span><span id="line-21">    public static String[] lireFichierTexte(String nomFichier)</span>
<span class="source-line-no">022</span><span id="line-22">    {</span>
<span class="source-line-no">023</span><span id="line-23">        try{</span>
<span class="source-line-no">024</span><span id="line-24">            File fichier = new File(nomFichier);</span>
<span class="source-line-no">025</span><span id="line-25">            FileInputStream fis = new FileInputStream(new File(nomFichier));</span>
<span class="source-line-no">026</span><span id="line-26">            </span>
<span class="source-line-no">027</span><span id="line-27">            byte[] buffer = new byte[(int)fichier.length()];</span>
<span class="source-line-no">028</span><span id="line-28">            fis.read(buffer);</span>
<span class="source-line-no">029</span><span id="line-29">            fis.close();</span>
<span class="source-line-no">030</span><span id="line-30">            String str = new String(buffer);</span>
<span class="source-line-no">031</span><span id="line-31"></span>
<span class="source-line-no">032</span><span id="line-32">            // On enleve le caractere '\r' code 13 qui est ajoute en Windows</span>
<span class="source-line-no">033</span><span id="line-33">            // Les fins de ligne dans un fichier texte cree sous Windows</span>
<span class="source-line-no">034</span><span id="line-34">            //  se termine par \r\n.</span>
<span class="source-line-no">035</span><span id="line-35">            // Il faut enlever le \r car il a des effets perturbant sur</span>
<span class="source-line-no">036</span><span id="line-36">            //  la methode System.out.print et est pris comme un caractere de plus</span>
<span class="source-line-no">037</span><span id="line-37">            //  qu'il faut eliminer</span>
<span class="source-line-no">038</span><span id="line-38">            //  </span>
<span class="source-line-no">039</span><span id="line-39">            String texte = str.replaceAll(""+(char)(13),"");</span>
<span class="source-line-no">040</span><span id="line-40">            </span>
<span class="source-line-no">041</span><span id="line-41">            // Les lignes du fichier sont mises dans un tableau</span>
<span class="source-line-no">042</span><span id="line-42">            //</span>
<span class="source-line-no">043</span><span id="line-43">            String[] mots = texte.split("\n");</span>
<span class="source-line-no">044</span><span id="line-44"></span>
<span class="source-line-no">045</span><span id="line-45">            return(mots);</span>
<span class="source-line-no">046</span><span id="line-46">        }</span>
<span class="source-line-no">047</span><span id="line-47">        catch(Exception ex) {return null;}</span>
<span class="source-line-no">048</span><span id="line-48">    }</span>
<span class="source-line-no">049</span><span id="line-49"></span>
<span class="source-line-no">050</span><span id="line-50">    /** Cette methode permet de creer un fichier texte a partir du contenu d'un StringBuffer.</span>
<span class="source-line-no">051</span><span id="line-51">        @param nomFichier Le nom du fichier qui est cree dans le repertoire courant</span>
<span class="source-line-no">052</span><span id="line-52">        @param strbuf Le StringBuffer contenant le texte a ecrire. </span>
<span class="source-line-no">053</span><span id="line-53">        @exception TerminalException (de type RuntimeException) si erreur d'ecriture</span>
<span class="source-line-no">054</span><span id="line-54">    */</span>
<span class="source-line-no">055</span><span id="line-55">    public static void ecrireFichier(String nomFichier,</span>
<span class="source-line-no">056</span><span id="line-56">                                     StringBuffer strbuf)</span>
<span class="source-line-no">057</span><span id="line-57">    {</span>
<span class="source-line-no">058</span><span id="line-58">        try{</span>
<span class="source-line-no">059</span><span id="line-59">            File fichier = new File(nomFichier);</span>
<span class="source-line-no">060</span><span id="line-60">            FileOutputStream fos = new FileOutputStream(new File(nomFichier));</span>
<span class="source-line-no">061</span><span id="line-61">            </span>
<span class="source-line-no">062</span><span id="line-62">            byte[] buffer = strbuf.toString().getBytes();</span>
<span class="source-line-no">063</span><span id="line-63">            fos.write(buffer);</span>
<span class="source-line-no">064</span><span id="line-64">            fos.close();</span>
<span class="source-line-no">065</span><span id="line-65">        }</span>
<span class="source-line-no">066</span><span id="line-66">        catch(Exception ex)</span>
<span class="source-line-no">067</span><span id="line-67">            {</span>
<span class="source-line-no">068</span><span id="line-68">                exceptionHandler(ex);</span>
<span class="source-line-no">069</span><span id="line-69">            }</span>
<span class="source-line-no">070</span><span id="line-70">    }</span>
<span class="source-line-no">071</span><span id="line-71"></span>
<span class="source-line-no">072</span><span id="line-72">    /** Cette methode lit une chaine de caractere</span>
<span class="source-line-no">073</span><span id="line-73">        @return String la chaine saisie dans la console d'execution</span>
<span class="source-line-no">074</span><span id="line-74">       @exception TerminalException (de type RuntimeException) si erreur de lecture</span>
<span class="source-line-no">075</span><span id="line-75">    */</span>
<span class="source-line-no">076</span><span id="line-76">    public static String lireString() // Lire un String</span>
<span class="source-line-no">077</span><span id="line-77">    {</span>
<span class="source-line-no">078</span><span id="line-78">        String tmp="";</span>
<span class="source-line-no">079</span><span id="line-79">        char C='\0';</span>
<span class="source-line-no">080</span><span id="line-80">        try {</span>
<span class="source-line-no">081</span><span id="line-81">            tmp = in.readLine();</span>
<span class="source-line-no">082</span><span id="line-82">        }</span>
<span class="source-line-no">083</span><span id="line-83">        catch (IOException e)</span>
<span class="source-line-no">084</span><span id="line-84">            {</span>
<span class="source-line-no">085</span><span id="line-85">                exceptionHandler(e);</span>
<span class="source-line-no">086</span><span id="line-86">            }</span>
<span class="source-line-no">087</span><span id="line-87">        return tmp;</span>
<span class="source-line-no">088</span><span id="line-88">    }</span>
<span class="source-line-no">089</span><span id="line-89"></span>
<span class="source-line-no">090</span><span id="line-90">    /** Cette methode lit un entier</span>
<span class="source-line-no">091</span><span id="line-91">        @return int L'entier saisi dans la console d'execution</span>
<span class="source-line-no">092</span><span id="line-92">       @exception TerminalException (de type RuntimeException) si la saisie n'est pas un entier ou erreur de lecture</span>
<span class="source-line-no">093</span><span id="line-93">    */</span>
<span class="source-line-no">094</span><span id="line-94">    public static int lireInt()  // Lire un entier</span>
<span class="source-line-no">095</span><span id="line-95">    {</span>
<span class="source-line-no">096</span><span id="line-96">        int x=0;</span>
<span class="source-line-no">097</span><span id="line-97">        try {</span>
<span class="source-line-no">098</span><span id="line-98">            x=Integer.parseInt(lireString());</span>
<span class="source-line-no">099</span><span id="line-99">        }</span>
<span class="source-line-no">100</span><span id="line-100">        catch (NumberFormatException e) {</span>
<span class="source-line-no">101</span><span id="line-101">            exceptionHandler(e);</span>
<span class="source-line-no">102</span><span id="line-102">        }       </span>
<span class="source-line-no">103</span><span id="line-103">        return x ;</span>
<span class="source-line-no">104</span><span id="line-104">    }</span>
<span class="source-line-no">105</span><span id="line-105"></span>
<span class="source-line-no">106</span><span id="line-106">    /** Cette methode lit un boolean (false ou true)</span>
<span class="source-line-no">107</span><span id="line-107">        @return boolean Le boolean saisi dans la console d'execution</span>
<span class="source-line-no">108</span><span id="line-108">       @exception TerminalException (de type RuntimeException) si erreur de lecture. &lt;BR&gt;</span>
<span class="source-line-no">109</span><span id="line-109">       Tout autre valeur que TRUE, FALSE, true ou false, retourne la valeur false</span>
<span class="source-line-no">110</span><span id="line-110">    */</span>
<span class="source-line-no">111</span><span id="line-111">    public static boolean lireBoolean()  // Lire un entier</span>
<span class="source-line-no">112</span><span id="line-112">    {</span>
<span class="source-line-no">113</span><span id="line-113">        boolean b = true;</span>
<span class="source-line-no">114</span><span id="line-114">        try {</span>
<span class="source-line-no">115</span><span id="line-115">            b = Boolean.valueOf(lireString()).booleanValue();</span>
<span class="source-line-no">116</span><span id="line-116">        }</span>
<span class="source-line-no">117</span><span id="line-117">        catch (NumberFormatException e) {</span>
<span class="source-line-no">118</span><span id="line-118">            exceptionHandler(e);</span>
<span class="source-line-no">119</span><span id="line-119">        }       </span>
<span class="source-line-no">120</span><span id="line-120">        return b;</span>
<span class="source-line-no">121</span><span id="line-121">    }</span>
<span class="source-line-no">122</span><span id="line-122"></span>
<span class="source-line-no">123</span><span id="line-123">    /** Cette methode lit un double</span>
<span class="source-line-no">124</span><span id="line-124">        @return double Le double saisi dans la console d'execution</span>
<span class="source-line-no">125</span><span id="line-125">       @exception TerminalException (de type RuntimeException) si la valeur saisie n'est pas un double ou ereur de lecture.</span>
<span class="source-line-no">126</span><span id="line-126">    */</span>
<span class="source-line-no">127</span><span id="line-127">    public  static double lireDouble()  // Lire un double</span>
<span class="source-line-no">128</span><span id="line-128">    {</span>
<span class="source-line-no">129</span><span id="line-129">        double x=0.0;</span>
<span class="source-line-no">130</span><span id="line-130">        try {</span>
<span class="source-line-no">131</span><span id="line-131">            x=Double.valueOf(lireString()).doubleValue();</span>
<span class="source-line-no">132</span><span id="line-132">        }</span>
<span class="source-line-no">133</span><span id="line-133">        catch (NumberFormatException e) {</span>
<span class="source-line-no">134</span><span id="line-134">            exceptionHandler(e);</span>
<span class="source-line-no">135</span><span id="line-135">        }       </span>
<span class="source-line-no">136</span><span id="line-136">        return x ;</span>
<span class="source-line-no">137</span><span id="line-137">    }</span>
<span class="source-line-no">138</span><span id="line-138"></span>
<span class="source-line-no">139</span><span id="line-139">    /** Cette methode lit un caractere.</span>
<span class="source-line-no">140</span><span id="line-140">       @exception TerminalException (de type RuntimeException) si erreur de lecture.&lt;BR&gt;</span>
<span class="source-line-no">141</span><span id="line-141">       Si on saisit plus d'1 caractere alors le caractere retourne est le premier.</span>
<span class="source-line-no">142</span><span id="line-142">    */</span>
<span class="source-line-no">143</span><span id="line-143">    public  static char lireChar()  // Lire un caractere</span>
<span class="source-line-no">144</span><span id="line-144">    {</span>
<span class="source-line-no">145</span><span id="line-145">        String tmp=lireString();</span>
<span class="source-line-no">146</span><span id="line-146">        if (tmp.length()==0)</span>
<span class="source-line-no">147</span><span id="line-147">            return '\n';</span>
<span class="source-line-no">148</span><span id="line-148">        else </span>
<span class="source-line-no">149</span><span id="line-149">            {</span>
<span class="source-line-no">150</span><span id="line-150">                return tmp.charAt(0);</span>
<span class="source-line-no">151</span><span id="line-151">            }</span>
<span class="source-line-no">152</span><span id="line-152">    }</span>
<span class="source-line-no">153</span><span id="line-153"></span>
<span class="source-line-no">154</span><span id="line-154">    /** Cette methode ecrit une chaine et ne revient pas a la ligne.</span>
<span class="source-line-no">155</span><span id="line-155">        @param s la chaine &amp;agrave; &amp;eacute;crire</span>
<span class="source-line-no">156</span><span id="line-156">    */</span>
<span class="source-line-no">157</span><span id="line-157">    public static void ecrireString(String s){ // Afficher un String</span>
<span class="source-line-no">158</span><span id="line-158">        System.out.print(s);</span>
<span class="source-line-no">159</span><span id="line-159">    }</span>
<span class="source-line-no">160</span><span id="line-160"></span>
<span class="source-line-no">161</span><span id="line-161">    /** Cette methode ecrit une chaine et revient a la ligne.</span>
<span class="source-line-no">162</span><span id="line-162">        @param s la chaine &amp;agrave; &amp;eacute;crire</span>
<span class="source-line-no">163</span><span id="line-163">    */</span>
<span class="source-line-no">164</span><span id="line-164">    public static void ecrireStringln(String s) // Afficher un String</span>
<span class="source-line-no">165</span><span id="line-165">    {</span>
<span class="source-line-no">166</span><span id="line-166">        ecrireString(s);</span>
<span class="source-line-no">167</span><span id="line-167">        sautDeLigne();</span>
<span class="source-line-no">168</span><span id="line-168">    }</span>
<span class="source-line-no">169</span><span id="line-169"></span>
<span class="source-line-no">170</span><span id="line-170">    /** Cette methode ecrit un entier et ne revient pas a la ligne.</span>
<span class="source-line-no">171</span><span id="line-171">        @param i l'entier a ecrire</span>
<span class="source-line-no">172</span><span id="line-172">    */</span>
<span class="source-line-no">173</span><span id="line-173">    public static void ecrireInt(int i)  // Afficher un entier</span>
<span class="source-line-no">174</span><span id="line-174">    {</span>
<span class="source-line-no">175</span><span id="line-175">        ecrireString(""+i);</span>
<span class="source-line-no">176</span><span id="line-176">    }</span>
<span class="source-line-no">177</span><span id="line-177"></span>
<span class="source-line-no">178</span><span id="line-178">    /** Cette methode ecrit un entier et revient a la ligne.</span>
<span class="source-line-no">179</span><span id="line-179">        @param i l'entier a ecrire</span>
<span class="source-line-no">180</span><span id="line-180">    */</span>
<span class="source-line-no">181</span><span id="line-181">    public static void ecrireIntln(int i)  // Afficher un entier</span>
<span class="source-line-no">182</span><span id="line-182">    {</span>
<span class="source-line-no">183</span><span id="line-183">        ecrireString(""+i);</span>
<span class="source-line-no">184</span><span id="line-184">        sautDeLigne();</span>
<span class="source-line-no">185</span><span id="line-185">    }</span>
<span class="source-line-no">186</span><span id="line-186"></span>
<span class="source-line-no">187</span><span id="line-187">    /** Cette methode ecrit un boolean et ne revient pas a la ligne.</span>
<span class="source-line-no">188</span><span id="line-188">        @param b le booleen a ecrire</span>
<span class="source-line-no">189</span><span id="line-189">    */</span>
<span class="source-line-no">190</span><span id="line-190">    public static void ecrireBoolean(boolean b){</span>
<span class="source-line-no">191</span><span id="line-191">        ecrireString(""+b);</span>
<span class="source-line-no">192</span><span id="line-192">    }</span>
<span class="source-line-no">193</span><span id="line-193"></span>
<span class="source-line-no">194</span><span id="line-194">    /** Cette methode ecrit un boolean et revient a la line.</span>
<span class="source-line-no">195</span><span id="line-195">        @param b le booleen a ecrire</span>
<span class="source-line-no">196</span><span id="line-196">    */</span>
<span class="source-line-no">197</span><span id="line-197">    public static void ecrireBooleanln(boolean b){</span>
<span class="source-line-no">198</span><span id="line-198">        ecrireString(""+b);</span>
<span class="source-line-no">199</span><span id="line-199">        sautDeLigne();</span>
<span class="source-line-no">200</span><span id="line-200">    }</span>
<span class="source-line-no">201</span><span id="line-201"></span>
<span class="source-line-no">202</span><span id="line-202">    /** Cette methode ecrit un double et ne revient pas a la ligne.</span>
<span class="source-line-no">203</span><span id="line-203">        @param d le double a ecrire</span>
<span class="source-line-no">204</span><span id="line-204">    */</span>
<span class="source-line-no">205</span><span id="line-205">    public  static void ecrireDouble(double d)  // Afficher un double</span>
<span class="source-line-no">206</span><span id="line-206">    {</span>
<span class="source-line-no">207</span><span id="line-207">        ecrireString(""+d);</span>
<span class="source-line-no">208</span><span id="line-208">    }</span>
<span class="source-line-no">209</span><span id="line-209"></span>
<span class="source-line-no">210</span><span id="line-210">    /** Cette methode ecrit un double et revient a la ligne.</span>
<span class="source-line-no">211</span><span id="line-211">        @param d le double a ecrire</span>
<span class="source-line-no">212</span><span id="line-212">    */</span>
<span class="source-line-no">213</span><span id="line-213">    public  static void ecrireDoubleln(double d)  // Afficher un double</span>
<span class="source-line-no">214</span><span id="line-214">    {</span>
<span class="source-line-no">215</span><span id="line-215">        ecrireDouble(d);</span>
<span class="source-line-no">216</span><span id="line-216">        sautDeLigne();</span>
<span class="source-line-no">217</span><span id="line-217">    }</span>
<span class="source-line-no">218</span><span id="line-218"></span>
<span class="source-line-no">219</span><span id="line-219">    /** Cette methode ecrit un caractere et ne revient pas a la ligne.</span>
<span class="source-line-no">220</span><span id="line-220">        @param c le caractere a ecrire</span>
<span class="source-line-no">221</span><span id="line-221">    */</span>
<span class="source-line-no">222</span><span id="line-222">    public  static void ecrireChar(char c)  // Afficher un caractere</span>
<span class="source-line-no">223</span><span id="line-223">    {</span>
<span class="source-line-no">224</span><span id="line-224">        ecrireString(""+c);</span>
<span class="source-line-no">225</span><span id="line-225">    }  </span>
<span class="source-line-no">226</span><span id="line-226"></span>
<span class="source-line-no">227</span><span id="line-227">    /** Cette methode ecrit un caractere et revient a la ligne.</span>
<span class="source-line-no">228</span><span id="line-228">        @param c le caractere a ecrire</span>
<span class="source-line-no">229</span><span id="line-229">    */</span>
<span class="source-line-no">230</span><span id="line-230">    public  static void ecrireCharln(char c)  // Afficher un caractere</span>
<span class="source-line-no">231</span><span id="line-231">    {</span>
<span class="source-line-no">232</span><span id="line-232">        ecrireChar(c);</span>
<span class="source-line-no">233</span><span id="line-233">        sautDeLigne();</span>
<span class="source-line-no">234</span><span id="line-234">    }</span>
<span class="source-line-no">235</span><span id="line-235"></span>
<span class="source-line-no">236</span><span id="line-236">    /** Cette methode revient a la ligne.</span>
<span class="source-line-no">237</span><span id="line-237">    */</span>
<span class="source-line-no">238</span><span id="line-238">    public static void sautDeLigne(){</span>
<span class="source-line-no">239</span><span id="line-239">        try{</span>
<span class="source-line-no">240</span><span id="line-240">            System.out.println();</span>
<span class="source-line-no">241</span><span id="line-241">        }catch(Exception ex){</span>
<span class="source-line-no">242</span><span id="line-242">            exceptionHandler(ex);</span>
<span class="source-line-no">243</span><span id="line-243">        }</span>
<span class="source-line-no">244</span><span id="line-244">    }</span>
<span class="source-line-no">245</span><span id="line-245"></span>
<span class="source-line-no">246</span><span id="line-246">    /** Cette methode retourne l'exception TerminalException</span>
<span class="source-line-no">247</span><span id="line-247">    */</span>
<span class="source-line-no">248</span><span id="line-248">    protected static void exceptionHandler(Exception ex){</span>
<span class="source-line-no">249</span><span id="line-249">        TerminalException err = new TerminalException(ex);</span>
<span class="source-line-no">250</span><span id="line-250">        throw err;</span>
<span class="source-line-no">251</span><span id="line-251">    }</span>
<span class="source-line-no">252</span><span id="line-252"></span>
<span class="source-line-no">253</span><span id="line-253">    /** Cette methode ecrit une exception avec la pile dans la console</span>
<span class="source-line-no">254</span><span id="line-254">        @param ex l'exception a ecrire</span>
<span class="source-line-no">255</span><span id="line-255">    */</span>
<span class="source-line-no">256</span><span id="line-256">    public static void ecrireException(Throwable ex){</span>
<span class="source-line-no">257</span><span id="line-257">        ecrireString(ex.toString());</span>
<span class="source-line-no">258</span><span id="line-258">        ex.printStackTrace(System.out);</span>
<span class="source-line-no">259</span><span id="line-259">    }</span>
<span class="source-line-no">260</span><span id="line-260">}  </span>
<span class="source-line-no">261</span><span id="line-261"></span>
<span class="source-line-no">262</span><span id="line-262"></span>




























































</pre>
</div>
</main>
</body>
</html>
